$(document).ready(function(){wrap_DmVideoVs()});function wrap_DmVideoVs(){DmVideoGl.setPreVals();DmVideoVs.startMethod()}
var DmVideoGl=function(c){c.setPreVals=function(){var a=location.href;a&&-1!=a.indexOf("videoUrl=")&&-1!=a.indexOf("title=")&&-1!=a.indexOf("poster=")&&($("#pa_videoWi").val(document.body.clientWidth),$("#pa_videoHi").val(document.body.clientHeight),a=DmVideoVs.getSubRiSec(a,"?"),$("#pa_id").val(a.substring(a.indexOf("id=")+3,a.indexOf("&"))),a=DmVideoVs.getSubRiSec(a,"&"),$("#title").text("Yoo\u89c6\u9891\u76f4\u8fde-"+a.substring(a.indexOf("title=")+6,a.indexOf("&"))),a=DmVideoVs.getSubRiSec(a,
"&"),$("#pa_poster").val(a.substring(a.indexOf("poster=")+7,a.indexOf("&"))),a=DmVideoVs.getSubRiSec(a,"&"),$("#pa_url").val(a.substring(a.indexOf("videoUrl=")+9,a.length)))};c.getVideoWi=function(){var a="",b=$("#pa_videoWi");b&&0<b.length&&b.val()&&(a=1*b.val());return a};c.getVideoHi=function(){var a="",b=$("#pa_videoHi");b&&0<b.length&&b.val()&&(a=1*b.val());return a};c.getCleanUrl=function(a){var b="";return b=-1!=a.indexOf("?")?a.substring(0,a.indexOf("?")):a};return c}(window.DmVideoGl||{}),
DmVideoVs=function(c){c.startMethod=function(){c.startClSinVideo()};c.getSubRiSec=function(a,b){return a.substring(a.indexOf(b)+1,a.length)};c.startClSinVideo=function(){var a=$.trim($("#pa_id").val()),b=$.trim($("#pa_url").val()),d=$.trim($("#pa_videoWi").val()),e=$.trim($("#pa_videoHi").val()),f=$.trim($("#pa_poster").val()),h=browser.platform.mobile,g=DmVideoGl.getCleanUrl(b),k=Storage.getItem(g+"_poster"),g=Storage.getItem(g+"_viHeight"),d=d?d:h?c.getMobileViWiSec():380,d="width:"+(-1!=(d+"").indexOf("%")?
d+";":d+"px;"),e=e?e:h?c.getMobileViHiSec(g):492,e="height:"+(-1!=(e+"").indexOf("%")?e+";":e+"px;"),f=k?k:f,a=""+(" <video "+(f?"poster="+f:"")+' id="yooVideo" vi-id="'+a+'" style="'+d+e+'" class="" playsinline  loop controls>\n')+('  <source src="'+b+'" type="video/mp4" />\n'),a=a+" </video>\n";$("body").append(a);a=$("#yooVideo");b=c.startBindMp("yooVideo",a);f||b.load();return a};c.startBindMp=function(a,b){return b.mediaelementplayer({playText:"\u70b9\u51fb\u8fdb\u884c\u64ad\u653e",iceFullScreenMod:"wefs",
pauseOtherPlayers:browser.platform.iPhone?!0:!1,success:function(a){},error:function(a){console.error(a)}})};c.getMobileViWiSec=function(){if(browser.platform.mobile)return"100%"};c.getMobileViHiSec=function(a){if(browser.platform.mobile)return a?a:document.body.clientHeight};return c}(window.DmVideoVs||{});
